(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(8),s=n.n(i),r=(n(14),n(2)),l=n(3),c=n(5),d=n(4),u=n(6),p=n(1),g=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("li",{role:"button",className:"box",tabIndex:"0",onKeyPress:this.props.openInfoWindow.bind(this,this.props.data.marker),onClick:this.props.openInfoWindow.bind(this,this.props.data.marker)},this.props.data.locationName)}}]),t}(a.a.Component),m=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={locations:"",query:"",suggestions:!0},n.filterLocations=n.filterLocations.bind(Object(p.a)(Object(p.a)(n))),n.toggleSuggestions=n.toggleSuggestions.bind(Object(p.a)(Object(p.a)(n))),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"filterLocations",value:function(e){this.props.closeInfoWindow();var t=e.target.value,n=[];this.props.locations.forEach(function(e){e.locationName.toLowerCase().indexOf(t.toLowerCase())>=0?(e.marker.setVisible(!0),n.push(e)):e.marker.setVisible(!1)}),this.setState({locations:n,query:t})}},{key:"componentWillMount",value:function(){this.setState({locations:this.props.locations})}},{key:"toggleSuggestions",value:function(){this.setState({suggestions:!this.state.suggestions})}},{key:"render",value:function(){var e=this.state.locations.map(function(e,t){return a.a.createElement(g,{key:t,openInfoWindow:this.props.openInfoWindow.bind(this),data:e})},this);return a.a.createElement("div",{className:"search"},a.a.createElement("input",{role:"search","aria-labelledby":"search",id:"search-field",className:"search-field",type:"text",placeholder:"Filter",value:this.state.query,onChange:this.filterLocations}),a.a.createElement("ul",null,this.state.suggestions&&e),a.a.createElement("button",{className:"button",onClick:this.toggleSuggestions},"Show/Hide Suggestions"))}}]),t}(o.Component),h=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={locations:[{name:"Lalbagh Botnical Garden",latitude:12.9507,longitude:77.5848},{name:"Cubbon Park",latitude:12.9763,longitude:77.5929},{name:"Bangalore Fort",latitude:12.9629,longitude:77.576},{name:"Tipu Sultan's Summer Palace",latitude:12.9593,longitude:77.5737},{name:"ISKCON Temple",latitude:13.0098,longitude:77.5511},{name:"National Gallery of Modern Art",latitude:12.9897,longitude:77.5881},{name:"Shree Dodda Ganapathi Temple",latitude:12.9429,longitude:77.5682},{name:"Turahalli Forest",latitude:12.8818,longitude:77.5272},{name:"Bangalore Palace",latitude:12.9988,longitude:77.592}],map:"",infowindow:"",prevmarker:""},n.initMap=n.initMap.bind(Object(p.a)(Object(p.a)(n))),n.openInfoWindow=n.openInfoWindow.bind(Object(p.a)(Object(p.a)(n))),n.closeInfoWindow=n.closeInfoWindow.bind(Object(p.a)(Object(p.a)(n))),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.initMap=this.initMap,function(e){var t=window.document.getElementsByTagName("script")[0],n=window.document.createElement("script");n.src=e,n.async=!0,n.onerror=function(){document.write("Unable to load Google Maps.")},t.parentNode.insertBefore(n,t)}("https://maps.googleapis.com/maps/api/js?key=AIzaSyAg1zHsjgjRxh8rUak1oaikq_DDu7zqHyE&callback=initMap")}},{key:"initMap",value:function(){var e=this,t=document.getElementById("map");t.style.height=window.innerHeight+"px";var n=new window.google.maps.Map(t,{center:{lat:12.9897,lng:77.5881},zoom:13,mapTypeControl:!1}),o=new window.google.maps.InfoWindow({});window.google.maps.event.addListener(o,"closeclick",function(){e.closeInfoWindow()}),this.setState({map:n,infowindow:o}),window.google.maps.event.addDomListener(window,"resize",function(){var t=n.getCenter();window.google.maps.event.trigger(n,"resize"),e.state.map.setCenter(t)}),window.google.maps.event.addListener(n,"click",function(){e.closeInfoWindow()});var a=[],i={url:"markerOrange.png",scaledSize:new window.google.maps.Size(35,50)};this.state.locations.forEach(function(t){var o=t.name,s=new window.google.maps.Marker({position:new window.google.maps.LatLng(t.latitude,t.longitude),icon:i,animation:window.google.maps.Animation.DROP,map:n});s.addListener("click",function(){e.openInfoWindow(s)}),t.locationName=o,t.marker=s,t.display=!0,a.push(t)}),this.setState({locations:a})}},{key:"openInfoWindow",value:function(e){var t={url:"markerGreen.png",scaledSize:new window.google.maps.Size(35,50)};this.closeInfoWindow(),this.state.infowindow.open(this.state.map,e),e.setIcon(t),e.setAnimation(window.google.maps.Animation.BOUNCE),this.setState({prevmarker:e}),this.state.infowindow.setContent("Loading Information Content..."),this.state.map.setCenter(e.getPosition()),this.state.map.panBy(0,-200),this.getMarkerInfo(e)}},{key:"getMarkerInfo",value:function(e){var t=this,n="https://api.foursquare.com/v2/venues/search?client_id=L1P2MQSSOFSROG5NLFGT1JWFW5J23XZSENK4ZDKFFPJPNWXN&client_secret=OKE2U3YDZRT4ZW44T5UZKHWIUHQTQDQDR2XK25DD5JIIWUYN&v=20130815&ll="+e.getPosition().lat()+","+e.getPosition().lng()+"&limit=1";fetch(n).then(function(e){200===e.status?e.json().then(function(e){var n=e.response.venues[0],o="<h3>"+n.name+"</h3>",a="<b>Address: </b>"+n.location.formattedAddress+"<br>",i="<b>Verified Location: </b>"+n.verified+"<br>",s='<a href="https://foursquare.com/v/'+n.id+'" target="_blank">Read More on Foursquare Website</a>';t.state.infowindow.setContent(o+a+i+s)}):t.state.infowindow.setContent("Sorry data can't be loaded")}).catch(function(e){t.state.infowindow.setContent("Sorry data can't be loaded")})}},{key:"closeInfoWindow",value:function(){this.state.prevmarker&&this.state.prevmarker.setAnimation(null),this.setState({prevmarker:""}),this.state.infowindow.close()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("header",null,"Bangalore Tourism"),a.a.createElement(m,{key:"100",locations:this.state.locations,openInfoWindow:this.openInfoWindow,closeInfoWindow:this.closeInfoWindow}),a.a.createElement("div",{id:"map",role:"application","aria-labelledby":"map"}),a.a.createElement("footer",null,"Copyright: Nikita Jibhkate, 2018"))}}]),t}(o.Component);var f=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(a.a.createElement(h,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/neighborhood-map",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/neighborhood-map","/service-worker.js");f?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):w(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):w(e)})}}()},9:function(e,t,n){e.exports=n(16)}},[[9,2,1]]]);
//# sourceMappingURL=main.962c67a1.chunk.js.map